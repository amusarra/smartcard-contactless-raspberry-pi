<!doctype html><html lang=it class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Guida pratica per realizzare un sistema di autenticazione con smart card contactless su Raspberry Pi"><meta name=author content="Antonio Musarra"><link href=https://amusarra.github.io/smartcard-contactless-raspberry-pi/guida/deploy_test_software_on_rpi/ rel=canonical><link href=../struttura_progetto/ rel=prev><link href=../conclusioni/ rel=next><link rel=icon href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.0, mkdocs-material-9.5.29"><title>Installazione e test - Raspberry Pi e Smart Card Mifare Classic 1K</title><link rel=stylesheet href=../../assets/stylesheets/main.76a95c52.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><meta property=og:type content=website><meta property=og:title content="Installazione e test - Raspberry Pi e Smart Card Mifare Classic 1K"><meta property=og:description content="Guida pratica per realizzare un sistema di autenticazione con smart card contactless su Raspberry Pi"><meta property=og:image content=https://amusarra.github.io/smartcard-contactless-raspberry-pi/assets/images/social/guida/deploy_test_software_on_rpi.png><meta property=og:image:type content=image/png><meta property=og:image:width content=1200><meta property=og:image:height content=630><meta content=https://amusarra.github.io/smartcard-contactless-raspberry-pi/guida/deploy_test_software_on_rpi/ property=og:url><meta name=twitter:card content=summary_large_image><meta name=twitter:title content="Installazione e test - Raspberry Pi e Smart Card Mifare Classic 1K"><meta name=twitter:description content="Guida pratica per realizzare un sistema di autenticazione con smart card contactless su Raspberry Pi"><meta name=twitter:image content=https://amusarra.github.io/smartcard-contactless-raspberry-pi/assets/images/social/guida/deploy_test_software_on_rpi.png></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Intestazione> <a href=../.. title="Raspberry Pi e Smart Card Mifare Classic 1K" class="md-header__button md-logo" aria-label="Raspberry Pi e Smart Card Mifare Classic 1K" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Raspberry Pi e Smart Card Mifare Classic 1K </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Installazione e test </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Cerca placeholder=Cerca autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Cerca> <button type=reset class="md-search__icon md-icon" title=Cancella aria-label=Cancella tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Inizializza la ricerca </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/amusarra/smartcard-contactless-raspberry-pi title="Apri repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> amusarra/smartcard-contactless-raspberry-pi </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Informazioni </a> </li> <li class=md-tabs__item> <a href=../introduzione/ class=md-tabs__link> Quick Start </a> </li> <li class=md-tabs__item> <a href=../schema_elettrico/ class=md-tabs__link> Implementazione </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=./ class=md-tabs__link> Deploy </a> </li> <li class=md-tabs__item> <a href=../conclusioni/ class=md-tabs__link> Conclusioni </a> </li> <li class=md-tabs__item> <a href=../risorse/ class=md-tabs__link> Risorse </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigazione data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Raspberry Pi e Smart Card Mifare Classic 1K" class="md-nav__button md-logo" aria-label="Raspberry Pi e Smart Card Mifare Classic 1K" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> Raspberry Pi e Smart Card Mifare Classic 1K </label> <div class=md-nav__source> <a href=https://github.com/amusarra/smartcard-contactless-raspberry-pi title="Apri repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> amusarra/smartcard-contactless-raspberry-pi </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Informazioni </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Quick Start </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Quick Start </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../introduzione/ class=md-nav__link> <span class=md-ellipsis> Introduzione </span> </a> </li> <li class=md-nav__item> <a href=../descrizione_scenario/ class=md-nav__link> <span class=md-ellipsis> Descrizione Scenario </span> </a> </li> <li class=md-nav__item> <a href=../dettagli_mifare_classic_1k/ class=md-nav__link> <span class=md-ellipsis> Dettagli MIFARE Classic 1K </span> </a> </li> <li class=md-nav__item> <a href=../misteriosi_pacchetti_apdu/ class=md-nav__link> <span class=md-ellipsis> I misteriosi pacchetti APDU </span> </a> </li> <li class=md-nav__item> <a href=../atr/ class=md-nav__link> <span class=md-ellipsis> Cos’è l’Answer to reset o ATR </span> </a> </li> <li class=md-nav__item> <a href=../requisiti_hardware/ class=md-nav__link> <span class=md-ellipsis> Requisiti Hardware </span> </a> </li> <li class=md-nav__item> <a href=../requisiti_software/ class=md-nav__link> <span class=md-ellipsis> Requisiti Software </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> Implementazione </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Implementazione </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../schema_elettrico/ class=md-nav__link> <span class=md-ellipsis> Schema elettrico della soluzione </span> </a> </li> <li class=md-nav__item> <a href=../progettare_software/ class=md-nav__link> <span class=md-ellipsis> Progettare il software </span> </a> </li> <li class=md-nav__item> <a href=../implementare_software/ class=md-nav__link> <span class=md-ellipsis> Implementare il software </span> </a> </li> <li class=md-nav__item> <a href=../pyscard/ class=md-nav__link> <span class=md-ellipsis> Cos’è Pyscard </span> </a> </li> <li class=md-nav__item> <a href=../struttura_progetto/ class=md-nav__link> <span class=md-ellipsis> Struttura del progetto software </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4 checked> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex> <span class=md-ellipsis> Deploy </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=true> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Deploy </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Installazione e test </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../conclusioni/ class=md-nav__link> <span class=md-ellipsis> Conclusioni </span> </a> </li> <li class=md-nav__item> <a href=../risorse/ class=md-nav__link> <span class=md-ellipsis> Risorse </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=Indice> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>Installazione e test</h1> <p>Ci siamo! È arrivato il momento d'installare il progetto software sul Raspberry Pi e verificare che tutto funzioni così per com'è stato ideato. Il deployment diagram della figura a seguire mostra tutti i componenti del nostro sistema di accesso.</p> <p><a href=https://www.dontesta.it/wp-content/uploads/2022/03/system_deployment_on_raspberry.png><img src=https://www.dontesta.it/wp-content/uploads/2022/03/system_deployment_on_raspberry-1024x891.png class="size-large wp-image-5562" width=1024 height=891 alt="Figura 22 - Deployment diagram del sistema di accesso via Smart Card Contactless su Raspberry Pi"></a> <strong>Figura 22</strong> - Deployment diagram del sistema di accesso via Smart Card Contactless su Raspberry Pi</p> <p>Assumiamo a questo punto che tutti i requisiti software indicati in precedenza siano tutti soddisfatti (fare riferimento a 6. Requisiti Software). Per installare il progetto software sul Raspberry Pi occorre seguire i seguenti passi:</p> <ol> <li>accedere in ssh alla Raspberry Pi;</li> <li>decidere una locazione dove installare il progetto software. Non ci sono restrizioni; nel mio caso ho preferito usare la home del mio account;</li> <li>eseguire il clone del repository del progetto;</li> <li>eseguire l'installazione delle dipendenze Python.</li> </ol> <p>Per ambienti di sviluppo o test è possibile pensare di fare ricorso alla creazione di quella che viene definita nel mondo Python, <a href=https://docs.python.org/3/tutorial/venv.html target=_blank rel=noopener>Virtual Environments</a>.</p> <p><div class=highlight><pre><span></span><code><span class=c1># Accesso al Raspberry Pi via SSH</span>
ssh<span class=w> </span>amusarra@192.168.238.169

<span class=c1># Clone del repository GitHub del progetto</span>
git<span class=w> </span>clone<span class=w> </span>https://github.com/amusarra/smartcard-contactless-raspberry-pi.git

<span class=c1># Installazione delle dipendenze Python</span>
<span class=nb>cd</span><span class=w> </span>smartcard-contactless-raspberry-pi
make
</code></pre></div> <strong>Console 2</strong> - Installazione del progetto software</p> <p>Il comando <code>make</code> non fa altro che procedere con l'installazione delle dipendenze Python specificate sul file <a href=https://github.com/amusarra/smartcard-contactless-raspberry-pi/blob/master/requirements.txt target=_blank rel=noopener>requirements.txt</a> utilizzando <a href=https://pypi.org/project/pip/ target=_blank rel=noopener>pip</a>. La figura 23 mostra il processo d'installazione delle dipendenze Python sul Raspberry Pi. Ultimata l'installazione, è possibile eseguire il test vero e proprio del software. Prima di eseguire il test occorre accertarsi che dal punto di vista hardware sia tutto regolare controllando tutti i collegamenti (vedi schema elettrico), compreso il collegamento del lettore di Smart Card via USB.</p> <p><a href=https://www.dontesta.it/wp-content/uploads/2022/03/install_rpi_access_system_via_smart_card_1.png><img src=https://www.dontesta.it/wp-content/uploads/2022/03/install_rpi_access_system_via_smart_card_1-1024x626.png class="size-large wp-image-5568" width=1024 height=626 alt="Figura 23 - Installazione delle dipendenze Python tramite il comando make"></a> <strong>Figura 23</strong> - Installazione delle dipendenze Python tramite il comando make</p> <p>Ormai dovremmo sapere quali sono gli entry point da utilizzare, sia quello per il setup della Smart Card, sia quello che avvia il controllo degli accessi. Entrambi gli entry point, quindi gli script Python, devono essere avviati specificando una serie di parametri. Le due tabelle a seguire mostrano i parametri d'input dei due script: <code>setup_smart_card.py</code> e <code>access_via_smart_card.py</code>.</p> <p><a href=https://www.dontesta.it/wp-content/uploads/2022/03/mind_map_script_setup_smart_card.png><img src=https://www.dontesta.it/wp-content/uploads/2022/03/mind_map_script_setup_smart_card-1024x582.png class="size-large wp-image-5572" width=1024 height=582 alt="Figura 24 - Tabella dei parametri d'input per lo script Python setup_smart_card.py"></a> <strong>Figura 24</strong> - Tabella dei parametri d'input per lo script Python setup_smart_card.py</p> <p><a href=https://www.dontesta.it/wp-content/uploads/2022/03/mind_map_script_access_via_smart_card.png><img src=https://www.dontesta.it/wp-content/uploads/2022/03/mind_map_script_access_via_smart_card-1024x265.png title="Figura 25 - Tabella dei parametri d'input per lo script Python access_via_smart_card.py" class="wp-image-5573 size-large" width=1024 height=265 alt="Figura 25 - Tabella dei parametri d'input per lo script Python access_via_smart_card.py"></a> <strong>Figura 25</strong> - Tabella dei parametri d'input per lo script Python access_via_smart_card.py</p> <p>La figura 26 mostra un esempio di come si presenta l'help in linea dello script <code>setup_smart_card.py</code> attivato utilizzando l'opzione <code>--help</code> (o <code>-h</code>).</p> <p><a href=https://www.dontesta.it/wp-content/uploads/2022/03/setup_smart_card.py_help_option.png><img src=https://www.dontesta.it/wp-content/uploads/2022/03/setup_smart_card.py_help_option-1024x618.png class="size-large wp-image-5574" width=1024 height=618 alt="Figura 26 - Come si presenta l'help in line dello script setup_smart_card.py"></a> <strong>Figura 26</strong> - Come si presenta l'help in linea dello script setup_smart_card.py</p> <p>A questo punto siamo davvero pronti. Il primo step è la registrazione della Smart Card per il nuovo ospite Mario Rossi il cui documento d'identità ha il numero MU589876XD e al quale assegnamo la stanza numero due.</p> <p>Prima di avviare la registrazione, prendiamo la Smart Card poggiandola sul lettore. Il comando da avviare per la registrazione è: <code>./setup_smart_card.py -a FFFFFFFFFFFF -i MU589876XD -s --firstname Mario --lastname Rossi -r 2</code></p> <p>Se tutto va per il verso giusto, l'output ottenuto in console dovrebbe essere quello mostrato dalla figura a seguire.</p> <p><a href=https://www.dontesta.it/wp-content/uploads/2022/03/setup_smart_card_run_1.png><img src=https://www.dontesta.it/wp-content/uploads/2022/03/setup_smart_card_run_1-1024x511.png class="size-large wp-image-5576" width=1024 height=511 alt="Figura 27 - Registrazione Smart Card MIFARE Classic 1K con i dati dell'ospite "></a> <strong>Figura 27</strong> - Registrazione Smart Card MIFARE Classic 1K con i dati dell'ospite</p> <p>Dopo la registrazione della Smart Card e la consegna all'ospite, quest'ultimo può usare la Smart Card per accedere alla propria stanza assegnata in fase di registrazione, che ricordo essere la numero due.</p> <p><a href=https://www.dontesta.it/wp-content/uploads/2022/03/smart_card_registration_data_on_mongodb_1.png><img src=https://www.dontesta.it/wp-content/uploads/2022/03/smart_card_registration_data_on_mongodb_1-1024x974.png class="size-large wp-image-5577" width=1024 height=974 alt="Figura 28 - Documento registrato su MongoDB a fronte del processo di registrazione Smart Card"></a> <strong>Figura 28</strong> - Documento registrato su MongoDB a fronte del processo di registrazione Smart Card</p> <p>Avviamo adesso il programma del controllo degli accessi utilizzando il comando: <code>./access_via_smart_card.py -a FFFFFFFFFFFF</code>. Avviato il programma, questo resta in attesa di leggere la Smart Card. Poggiando la Smart Card registrata poc'anzi, l'ospite dovrebbe riuscire ad accedere alla sua stanza, così come mostra la figura a seguire.</p> <p><a href=https://www.dontesta.it/wp-content/uploads/2022/03/smart_card_access_control_1.png><img src=https://www.dontesta.it/wp-content/uploads/2022/03/smart_card_access_control_1-1024x570.png class="size-large wp-image-5578" width=1024 height=570 alt="Figura 29 - Richiesta di accesso via Smart Card MIFARE Classic 1K"></a> <strong>Figura 29</strong> - Richiesta di accesso via Smart Card MIFARE Classic 1K</p> <p>L'output mostrato dalla figura 29 evidenzia anche un accesso non riuscito perché in questo caso la Smart Card presentata non è registrata sul sistema. Gli screencast a seguire mostrano i due entry point in azione: setup_smart_card.py e access_via_smart_card.py.</p> <p><a href=https://asciinema.org/a/475795 target=_blank rel=noopener><img src=https://asciinema.org/a/475795.svg title="Screencast 1 - Processo di registrazione Smart Card in azione" width=1223 height=784 alt="Screencast 1 - Processo di registrazione Smart Card in azione"></a> <strong>Screencast 1</strong> - Processo di registrazione Smart Card in azione</p> <p><a href=https://asciinema.org/a/475797 target=_blank rel=noopener><img src=https://asciinema.org/a/475797.svg title="Screencast 2 - Processo di accesso alla stanza via Smart Card in azione" width=1223 height=784 alt="Screencast 2 - Processo di accesso alla stanza via Smart Card in azione"></a> <strong>Screencast 2</strong> - Processo di accesso alla stanza via Smart Card in azione</p> <p>Dopo i due screencast che mostrano il sistema di accesso in azione, possiamo affermare che il nostro lavoro di analisi, progettazione e implementazione sia arrivato al termine, raggiungendo anche l'obiettivo prefissato.</p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2009 - 2024 Antonio Musarra </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/amusarra target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://www.linkedin.com/in/amusarra/ target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg> </a> <a href=https://twitter.com/amusarra target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> <a href=https://hub.docker.com/u/amusarra target=_blank rel=noopener title=hub.docker.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M349.9 236.3h-66.1v-59.4h66.1v59.4zm0-204.3h-66.1v60.7h66.1V32zm78.2 144.8H362v59.4h66.1v-59.4zm-156.3-72.1h-66.1v60.1h66.1v-60.1zm78.1 0h-66.1v60.1h66.1v-60.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1l-13.3-8.9zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm-78.1-72.1h-66.1v60.1h66.1v-60.1z"/></svg> </a> <a href=https://www.youtube.com/channel/UC5D3_EtVPbZYUhrUcEK_THA target=_blank rel=noopener title=www.youtube.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.path", "navigation.tabs", "navigation.tabs.sticky"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copiato", "clipboard.copy": "Copia", "search.result.more.one": "1 altro in questa pagina", "search.result.more.other": "# altri in questa pagina", "search.result.none": "Nessun documento trovato", "search.result.one": "1 documento trovato", "search.result.other": "# documenti trovati", "search.result.placeholder": "Scrivi per iniziare a cercare", "search.result.term.missing": "Non presente", "select.version": "Seleziona la versione"}}</script> <script src=../../assets/javascripts/bundle.fe8b6f2b.min.js></script> </body> </html>